@model  List<ProjetoMecanicoVirtual.Models.Funcionario>

@{
    Layout = "~/Views/Shared/_Mestre.cshtml";

}

@section Corpo {
<div class="container-fluid">
    <!-- Breadcrumbs-->
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a href="#">i4Tech</a>
        </li>
        <li class="breadcrumb-item active">Navbar</li>
    </ol>
    <h1>Gerenciamento de Funcionários</h1>
    <hr>
    <p>Gerenciar Login de Acesso</p>
    <div>

        <table class="table">
            <thead>
                <tr>
                    <th>Código</th>
                    <th>Nome</th>
                    <th>Login</th>
                    <th>Tipo</th>
                    <th>Exibir</th>
                </tr>
            </thead>
            <tbody>
                @for (int i = 0; i < Model.Count; i++)
                {
                    <tr>
                        <td>@Model[i].Id</td>
                        <td>@Model[i].Nome</td>
                        <td>@Model[i].Usuario</td>
                        <td>@Model[i].TipoAcesso</td>
                        <td>
                            <button type="button" class="btn btn-primary" onclick="exibirNomeId(@Model[i].Id)">Exibir</button>
                        </td>
                    </tr>
                }
            </tbody>
        </table>

    </div>
    </div>
    <div id="vao2"></div>

    <script type="text/javascript">
        function exibirNomeId(id) {
            if ($.active) {
                return;
            }

            var obj = {
                id: id
            };

            $.ajax({
                url: "/Usuario/ModalGerencia",
                cache: false,
                method: "get",
                data: obj,
                success: function (dados) {
                    $("#vao2").html(dados);

                    $("#modalExibir").modal({
                        backdrop: "static",
                        keyboard: false
                    });
                },
                error: function () {
                    alert("Deu erro");
                }
            });
        }
    </script>



}


